<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-Commerce</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
  <link rel="stylesheet" href="stylesheets/style.css">
</head>
<body class="d-flex">
    <div class="col-3 d-flex flex-column bg-success-subtle align-items-center p-4">
      <img src="/images/logo-rabbaanii.png" alt="" class="w-50">
      <h4 class="mt-2 text-black fw-semibold">Rabbaanii Market</h4>
      <div class="container d-flex flex-column align-items-center gap-3 mt-5">
        <a href="/main" 
        class="btn-pick text-decoration-none p-2 rounded w-75 text-center border border-black text-black fw-medium">All</a>
        <a href="/makanan" 
        class="btn-pick text-decoration-none p-2 rounded w-75 text-center border border-black text-black fw-medium">Dishes</a>
        <a href="/minuman" 
        class="btn-pick text-decoration-none p-2 rounded w-75 text-center border border-black text-black fw-medium">Beverages</a>
      </div>
    </div>
    <!-- Header -->
    <div class="col-9 p-3 overflow-scroll overflow-x-hidden">
      <nav class="d-flex justify-content-end">
        <% if (role === 'admin') { %>
          <a href="/logout" class="text-decoration-none rounded bg-primary text-white pb-2 pt-2 px-4 mt-1 ms-2">Logout</a>
        <% }else { %>
          <a href="/login" class="text-decoration-none rounded bg-primary text-white pb-2 pt-2 px-4 mt-1">Login as Admin</a>
          <% } %>
      </nav>
      <hr>
      <div class="carousel slide m-4" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active" data-bs-interval="3000">
            <img src="https://plus.unsplash.com/premium_photo-1671013032517-481b086eced1?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 h-50 rounded">
          </div>
          <div class="carousel-item" data-bs-interval="3000">
            <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 h-50 rounded">
          </div>
          <div class="carousel-item" data-bs-interval="3000">
            <img src="https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 h-50 rounded">
          </div>
        </div>
      </div>

      <div class="d-flex gap-5 justify-content-between">
        <h3 class="fs-5 text-black fw-medium text-center mb-3">All Product</h3>
        <% if (role === 'admin') { %>
          <a href="/create" class="btn btn-info text-white me-4 mb-3">Add New Data</a>
          <% } %>
      </div>

      <div class="cardMenu d-flex flex-wrap gap-3">
        <% if(data.length){ 
          for(var i = 0; i< data.length; i++) {%>
  
        <div class="card" style="width: 18rem; height: fit-content;">
          <img src="/images/<%= data[i].image%>" class="card-img-top" style="object-fit: cover; height: 200px; width: auto;" alt="image">
          <div class="card-body">
            <h5 class="card-title"><%= data[i].nama %></h5>
            <p class="card-text"><%= data[i].harga %></p>
            <a href="/detail/<%= data[i].id %>" class="btn btn-primary d-flex flex-column mb-2">See Detail</a>
            <% if (role === 'admin') { %>
              <a href="/delete/<%= data[i].id %>" class="btn btn-danger d-flex flex-column mb-2">Delete</a>
              <a href="/edit/<%= data[i].id %>" class="btn btn-primary d-flex flex-column mb-2">Edit</a>
            <% } %>
          </div>
          </div>
    
        <%} } %>
      </div>
     
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>